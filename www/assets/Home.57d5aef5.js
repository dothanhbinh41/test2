import{aI as I,aJ as v,aK as B,aL as w,aM as h,aN as p,aP as y,aQ as b,aO as s,aS as d,a$ as E,b0 as V,aV as C,aU as g,aT as G,aZ as N,aX as D,b1 as U,b2 as $,b3 as M,b4 as O,aR as R}from"./index.e82e929c.js";const q="api/app/services/service-groups",L="api/app/services/service-by-group",A="api/app/orders",T=I({id:"service",state:()=>({service:[]}),getters:{pagePromotion:e=>e.promotion},actions:{listServiceGroup(e={}){return new Promise((t,a)=>{v.query(`/${q}`,e).then(({data:o})=>{t(o)}).catch(({response:o})=>{a(o)})})},listServiceByGroup(e={}){return new Promise((t,a)=>{v.query(`/${L}`,e).then(({data:o})=>{t(o)}).catch(({response:o})=>{a(o)})})},addPromotion(e={}){return new Promise((t,a)=>{v.post(`/${PROMOTION_ADD}`,e).then(({data:o})=>{t(o)}).catch(({response:o})=>{a(o)})})},buyPurchase(e={}){return new Promise((t,a)=>{v.post(`/${A}`,e).then(({data:o})=>{t(o)}).catch(({response:o})=>{a(o)})})}}});var F="/assets/follow.5179be3b.svg",z="/assets/select.2ce1dc63.svg";const H={props:["service_name","service_group"],data(){return{cards:[{},{},{},{},{},{},{}],services:[],icon_active:[{name:"like",check:!0},{name:"love",check:!1},{name:"care",check:!1},{name:"haha",check:!1},{name:"wow",check:!1},{name:"sad",check:!1},{name:"angry",check:!1}],speed_type:[{name:"Ch\u1EADm"},{name:"Trung b\xECnh"},{name:"Th\xF4ng th\u01B0\u1EDDng"},{name:"Nhanh"}],type_warranty:[{name:"ng\xE0y"},{name:"tu\u1EA7n"},{name:"th\xE1ng"},{name:"n\u0103m"}],data_buy:[]}},setup(){return{useServiceStore:T()}},methods:{changeRadioSpeed(e,t){this.services[e].speeds.filter(a=>{a.type==this.data_buy[e][t].type_speed&&(this.data_buy[e][t].speed=a,console.log("speed",this.data_buy[e][t].speed))}),this.services[e].warranties.filter(a=>{a.time==this.data_buy[e][t].type_warranty&&(this.data_buy[e][t].warranty=a,console.log("warranty",this.data_buy[e][t].warranty))})},buyPurchase(e,t){let a={uid:this.data_buy[e][t].uid,warranty:this.data_buy[e][t].warranty,speed:this.data_buy[e][t].speed,serviceId:this.data_buy[e][t].serviceId,quantity:this.data_buy[e][t].quantity};this.useServiceStore.buyPurchase(a).then(o=>{this.$notify.success({title:"Success",message:"Mua d\u1ECBch v\u1EE5 th\xE0nh c\xF4ng"})}).catch(o=>{this.$notify.error({title:"Error",message:o.data.error.message})})},formatMoney(e){return e.toLocaleString("vi-VN",{style:"currency",currency:"VND"})},activeIcon(e){this.icon_active.forEach((t,a)=>{e==t.name&&(this.icon_active[a].check=!this.icon_active[a].check)})},getServiceByGroup(e){this.useServiceStore.listServiceByGroup({group:e}).then(t=>{this.services=t,this.services.forEach((a,o)=>{this.data_buy[o]={},a.speeds.forEach((r,n)=>{this.data_buy[o][n]={},this.data_buy[o][n].serviceId=a.id,this.data_buy[o][n].speed=r,this.data_buy[o][n].type_speed=r.type,this.data_buy[o][n].quantity=100,a.warranties.forEach((_,S)=>{this.data_buy[o][n].warranty=_,this.data_buy[o][n].type_warranty=_.time})}),a.code.includes("FB")&&console.log("services",this.data_buy)})}).catch(t=>{})}},mounted(){this.getServiceByGroup(this.service_group)}},f=e=>(U("data-v-125aa305"),e=e(),$(),e),j={class:"tab-content"},Q={class:"flex justify-between items-start"},Y={class:"service-name"},J={class:"price"},K={class:"max-price"},X=f(()=>s("div",{class:"icon"},[s("img",{width:"20",height:"20",src:F,alt:""})],-1)),Z={class:"mt-3"},W=["onUpdate:modelValue"],x=f(()=>s("div",{class:"mb-2",style:{"margin-top":"-8px"}},[N(" L\u1EA5y UID t\u1EA1i "),s("a",{href:"https://sites.google.com/view/layid/trang-ch%E1%BB%A7",target:"_blank",style:{color:"rgb(0, 123, 255)"}},"\u0111\xE2y")],-1)),ee=["onUpdate:modelValue"],te={class:"mb-2"},ae=f(()=>s("span",null,"Ch\u1ECDn lo\u1EA1i t\u1ED1c \u0111\u1ED9:",-1)),se={class:"mb-2"},oe=f(()=>s("span",null,"Ch\u1ECDn lo\u1EA1i b\u1EA3o h\xE0nh:",-1)),re=D('<div class="mb-2" data-v-125aa305><span data-v-125aa305>Ch\u1ECDn lo\u1EA1i clone:</span><form class="pl-2.5 flex flex-col" data-v-125aa305><div class="relative form-check-inline" data-v-125aa305><input disabled class="form-check-input" type="radio" checked data-v-125aa305><label title class="form-check-label" data-v-125aa305>Ng\u1EABu nhi\xEAn</label></div><div class="relative form-check-inline" data-v-125aa305><input disabled class="form-check-input" type="radio" data-v-125aa305><label title class="form-check-label" data-v-125aa305>Nam</label></div><div class="relative form-check-inline" data-v-125aa305><input disabled class="form-check-input" type="radio" data-v-125aa305><label title class="form-check-label" data-v-125aa305>N\u1EEF</label></div></form></div><div class="mb-2" data-v-125aa305><span data-v-125aa305>Ch\u1ECDn qu\u1ED1c gia:</span><div class="relative w-full" data-v-125aa305><div class="input-select flex justify-between items-start min-height-35 full-width p-t-9 p-b-9 p-l-12 p-r-12 pointer disabled" data-v-125aa305><span class="text-truncate" data-v-125aa305>Ng\u1EABu nhi\xEAn</span><img style="margin-right:-6px;" src="'+z+'" alt="" data-v-125aa305></div></div></div>',2),ce={class:"mb-2"},ie=f(()=>s("span",null,"Th\xE0nh ti\u1EC1n",-1)),ne=f(()=>s("br",null,null,-1)),le={class:"mt-2 btn-buy"},ue=["onClick"];function he(e,t,a,o,r,n){const _=w("el-radio"),S=w("el-radio-group");return h(),p("div",j,[(h(!0),p(y,null,b(r.services,(m,l)=>(h(),p("div",{key:l,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6"},[(h(!0),p(y,null,b(m.speeds,(u,i)=>(h(),p("div",{key:i,class:"service-card-container mb-4 mr-4"},[s("div",Q,[s("div",null,[s("div",Y,"G\xF3i "+d(a.service_name)+" "+d(m.name),1),s("div",J,"Gi\xE1 ch\u1EC9 "+d(u.price)+"\u0111/l\u01B0\u1EE3t",1),s("div",K,"Max "+d(m.maxQuantity.toLocaleString())+" l\u01B0\u1EE3t, Min "+d(m.minQuantity.toLocaleString())+" l\u01B0\u1EE3t",1)]),X]),s("div",Z,[E(s("input",{"onUpdate:modelValue":c=>r.data_buy[l][i].uid=c,class:"input-service mb-2 form-control",type:"text",name:"id",id:"",placeholder:"Nh\u1EADp id:"},null,8,W),[[V,r.data_buy[l][i].uid]]),x,E(s("input",{"onUpdate:modelValue":c=>r.data_buy[l][i].quantity=c,class:"input-service mb-2 form-control",type:"number",name:"numberService",id:"",placeholder:"Nh\u1EADp s\u1ED1 l\u01B0\u1EE3t"},null,8,ee),[[V,r.data_buy[l][i].quantity]])]),s("div",te,[ae,C(S,{modelValue:r.data_buy[l][i].type_speed,"onUpdate:modelValue":c=>r.data_buy[l][i].type_speed=c,onChange:c=>n.changeRadioSpeed(l,i),class:"flex flex-col items-start pl-2.5"},{default:g(()=>[(h(!0),p(y,null,b(m.speeds,(c,k)=>(h(),G(_,{key:k,label:c.type,size:"large"},{default:g(()=>[N(d(r.speed_type[k].name),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),s("div",se,[oe,C(S,{modelValue:r.data_buy[l][i].type_warranty,"onUpdate:modelValue":c=>r.data_buy[l][i].type_warranty=c,onChange:c=>n.changeRadioSpeed(l,i),class:"flex flex-col items-start pl-2.5"},{default:g(()=>[(h(!0),p(y,null,b(m.warranties,(c,k)=>(h(),G(_,{key:k,label:c.time,size:"large"},{default:g(()=>[N(d(c.time)+" "+d(r.type_warranty[c.timeUnit].name),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),re,s("div",ce,[ie,ne,s("span",null,d(r.data_buy[l][i].quantity)+" x "+d(n.formatMoney(u.price))+" = ",1),s("span",null,d(n.formatMoney(r.data_buy[l][i].quantity*u.price)),1)]),s("div",le,[s("button",{class:"btn-service btn btn-outline-primary btn-block",type:"button",onClick:c=>n.buyPurchase(l,i)}," Mua ngay ",8,ue)])]))),128))]))),128))])}var de=B(H,[["render",he],["__scopeId","data-v-125aa305"]]);const pe="api/app/promotions",me="api/app/financial/deposit",_e=I({id:"promotion",state:()=>({promotion:[]}),getters:{pagePromotion:e=>e.promotion},actions:{listPromotion(e={}){return new Promise((t,a)=>{v.query(`/${pe}`,e).then(({data:o})=>{t(o)}).catch(({response:o})=>{a(o)})})},addPromotion(e={}){return new Promise((t,a)=>{v.post(`/${me}`,e).then(({data:o})=>{t(o)}).catch(({response:o})=>{a(o)})})}}});var ve="/assets/popup.caacf16e.svg";const ye={name:"Home",components:{ServiceCard:de},data(){return{topupList:[],serviceGroup:[],serviceByGroup:[],activeName:M("Facebook"),loading:!1}},setup(){const e=_e(),t=T();return{usePromotionStore:e,useServiceStore:t}},methods:{handleClick(e,t){console.log(e,t)},rechargeNow(e){let t={amount:e.end};this.usePromotionStore.addPromotion(t).then(a=>{console.log("response",a),this.$notify.success({title:"Success",message:"N\u1EA1p ti\u1EC1n th\xE0nh c\xF4ng"}),this.$router.push({name:"transaction-detail",params:{id:a.id}})}).catch(a=>{this.$notify.error({title:"Error",message:a.data.error.message})})},getPromotion(){this.usePromotionStore.listPromotion().then(e=>{this.topupList=e.items}).catch(e=>{})},getServiceGroup(){this.useServiceStore.listServiceGroup().then(e=>{this.serviceGroup=e,console.log("serviceGroup",this.serviceGroup),this.serviceGroup.forEach((t,a)=>{t.group==0&&(this.serviceGroup[a].name="Facebook"),t.group==1&&(this.serviceGroup[a].name="Tiktok"),t.group==2&&(this.serviceGroup[a].name="Instagram"),t.group==3&&(this.serviceGroup[a].name="Shopee"),t.group==4&&(this.serviceGroup[a].name="Lazada")})}).catch(e=>{})},getServiceByGroup(){this.useServiceStore.listServiceByGroup({group:1}).then(e=>{}).catch(e=>{})}},mounted(){this.loading=!0,this.getPromotion(),this.getServiceGroup(),this.getServiceByGroup(),setTimeout(()=>{this.loading=!1},1e3)},created(){}},P=e=>(U("data-v-9c64fc04"),e=e(),$(),e),be={class:"dashboard-container"},ge=P(()=>s("div",{class:"title text-uppercase"},"n\u1EA1p ti\u1EC1n",-1)),fe={class:"grid md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 grid-cols-1 gap-4"},Se={class:"corner-ribbon-container top-right"},ke={class:R("corner-ribbon top-right blue")},we={class:"text"},Ce={class:"flex justify-between items-center"},Pe=P(()=>s("div",{class:"topup-icon"},[s("img",{src:ve,alt:""})],-1)),Ee={class:"flex flex-col items-end mt-3"},Ge=P(()=>s("div",{class:"price-label mb-1"},"N\u1EA1p ti\u1EC1n",-1)),Ne={class:"price-number"},Ve=["onClick"],Ie=P(()=>s("div",{class:"title text-uppercase pt-4"},"Ch\u1ECDn mua d\u1ECBch v\u1EE5 theo app",-1));function Be(e,t,a,o,r,n){const _=w("service-card"),S=w("el-tab-pane"),m=w("el-tabs"),l=O("loading");return E((h(),p("div",be,[ge,s("div",fe,[(h(!0),p(y,null,b(r.topupList,(u,i)=>{var c;return h(),p("div",{class:"topup-card-container mb-4 mr-4",key:i},[s("div",Se,[s("div",ke,[s("span",we,"+"+d((c=u.promotion)!=null?c:0)+"%",1)])]),s("div",Ce,[Pe,s("div",Ee,[Ge,s("div",Ne,d(u.end&&new Intl.NumberFormat("it-IT",{style:"currency",currency:"VND"}).format(u.end)),1)])]),s("div",null,[s("button",{onClick:k=>n.rechargeNow(u),class:"btn-topup btn btn-outline-primary btn-block",type:"button"},"N\u1EA1p ti\u1EC1n ngay",8,Ve)])])}),128))]),Ie,s("div",null,[C(m,{modelValue:r.activeName,"onUpdate:modelValue":t[0]||(t[0]=u=>r.activeName=u),class:"demo-tabs",onTabClick:n.handleClick},{default:g(()=>[(h(!0),p(y,null,b(r.serviceGroup,(u,i)=>(h(),G(S,{key:i,label:u.name,name:u.name},{default:g(()=>[C(_,{service_name:u.name,service_group:u.group},null,8,["service_name","service_group"])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue","onTabClick"])])])),[[l,r.loading]])}var $e=B(ye,[["render",Be],["__scopeId","data-v-9c64fc04"]]);export{$e as default};
